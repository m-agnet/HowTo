
# MacBookを閉じたときにスリープするのを防ぐ方法

ノートパソコンでLAMMPSを回しているときに, スリープモードに入ると計算を中断してしまいます.

MacBook の蓋を閉じたときも含め, すべてのスリープ機能を一時的に無効にする方法です.
AC電源に接続していないときでもスリープしなくなってしまうので注意してください.

※蓋を閉じたときではなく通常の時間経過によるスリープを無効化したい場合は, システム環境設定の「省エネルギー」から行うことができます.

スリープを無効化中も, システム環境設定 ->「Dock」->「ホットコーナー」から設定することでディスプレイをスリープすることはできます.

# スリープを無効にする方法
1. 「アプリケーション」フォルダ->「ユーティリティ」フォルダにある「ターミナル」を開く
2. 以下のコマンドを入力し, Enterキーを押す

```shell
sudo pmset -a disablesleep 1
```

スリープが無効になっているかは, Apple メニューの「スリープ」が, グレーになってクリックできない状態になっているかどうかで判断できます.

# 元に戻す方法
上のコマンドの `1` を `0` にして実行します.

```shell
sudo pmset -a disablesleep 0
```

# ステータス確認

```shell
pmset -g
```

# クラムシェルモードについて

外付けディスプレイを接続していると蓋を閉じたときにスリープしない場合があります.その際はクラムシェルモードをオフにするとスリープするようにすることができます.
復元モード (`⌘R`) で起動してユーティリティ->ターミナルから以下のコマンドを実行します.

```sh
nvram boot-args="niog=1"
```

