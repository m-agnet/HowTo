LAMMPS (2 Aug 2023)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
# LAMMPSロゴのシミュレーション


units		lj  # LJ単位系を設定
atom_style	atomic  # 原子スタイルを原子型に設定
dimension	2   # シミュレーションの次元を2Dに設定

# 低密度の2D格子を作成し、拡散を可能にする
# 格子は平方根2/2の正方形で、原点は(0.25, 0.25, 0.0)にシフトされている
lattice		sq2 0.5 origin 0.25 0.25 0.0
Lattice spacing in x,y,z = 2 2 2
region		box block 0 31 0 7 -0.5 0.5 # シミュレーションボックス領域を定義
create_box	2 box   # 2種類の原子を持つシミュレーションボックスを作成
Created orthogonal box = (0 0 -1) to (62 14 1)
  4 by 1 by 1 MPI processor grid
create_atoms	1 box   # タイプ1の原子をシミュレーションボックス内に作成
Created 434 atoms
  using lattice units in orthogonal box = (0 0 -1) to (62 14 1)
  create_atoms CPU = 0.000 seconds

# LAMMPSロゴの各文字に対応する領域を定義
# 各領域は文字を形成する原子のサブセットを定義
region	        L1 block 2 3 1 6 -0.5 0.5
region	        L2 block 2 5 1 2 -0.5 0.5
region		L union 2 L1 L2

# 文字領域内の原子をタイプ2に変換する
set		region L type 2
Setting atom values ...
  14 settings made for type

# A、M(1M、2M)、P、Sの文字に対応する類似の領域が定義されている

region	        A1 block 6 7 1 6 -0.5 0.5
region	        A2 block 8 9 1 6 -0.5 0.5
region	        A3 block 6 9 3 4 -0.5 0.5
region	        A4 block 6 9 5 6 -0.5 0.5
region		A union 4 A1 A2 A3 A4

region	        1M1 block 10 11 1 6 -0.5 0.5
region	        1M2 block 14 15 1 6 -0.5 0.5
region	        1M3 block 10 15 5 6 -0.5 0.5
region	        1M4 block 12 13 3 6 -0.5 0.5
region		1M union 4 1M1 1M2 1M3 1M4

region	        2M1 block 16 17 1 6 -0.5 0.5
region	        2M2 block 20 21 1 6 -0.5 0.5
region	        2M3 block 16 21 5 6 -0.5 0.5
region	        2M4 block 18 19 3 6 -0.5 0.5
region		2M union 4 2M1 2M2 2M3 2M4

region	        P1 block 22 23 1 6 -0.5 0.5
region	        P2 block 24 25 3 6 -0.5 0.5
region	        P3 block 22 25 3 4 -0.5 0.5
region	        P4 block 22 25 5 6 -0.5 0.5
region		P union 4 P1 P2 P3 P4

region	        S1 block 26 29 5 6 -0.5 0.5
region	        S2 block 26 27 3 6 -0.5 0.5
region	        S3 block 26 29 3 4 -0.5 0.5
region	        S4 block 28 29 1 4 -0.5 0.5
region	        S5 block 26 29 1 2 -0.5 0.5
region		S union 5 S1 S2 S3 S4 S5

region          LAMMPS union 6 L A 1M 2M P S
set		region LAMMPS type 2
Setting atom values ...
  140 settings made for type


# 質量、ペアスタイル、ペア係数などのシステムパラメータを定義
mass		* 1.0
pair_style	lj/cut 2.5
pair_coeff	* * 1.0 1.0 2.5

# シミュレーションのタイムステップを設定
timestep        0.005
# 近接原子探索のスキンサイズとビンサイズを設定
neighbor	0.3 bin
# 近接リストの変更
neigh_modify	delay 0 every 1 check yes

# 全原子の速度を初期化
velocity	all create 2.0 87287 loop geom

# 熱力学情報の出力頻度を設定
thermo		100
# 20タイムステップごとに原子位置をscript.lammpstrjというファイルにダンプ
dump		1 all atom 20 output.lammpstrj

# 100ステップのシミュレーションを積分せずに実行して"一時停止"させる
run		100
WARNING: No fixes with time integration, atoms won't move (src/verlet.cpp:60)
Generated 0 of 1 mixed pair_coeff terms from geometric mixing rule
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 2.8
  ghost atom cutoff = 2.8
  binsize = 1.4, bins = 45 10 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair lj/cut, perpetual
      attributes: half, newton on
      pair build: half/bin/atomonly/newton
      stencil: half/bin/2d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 3.049 | 3.049 | 3.049 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   2             -0.99804688     0              0.99734483    -0.30894477   
       100   2             -0.99804688     0              0.99734483    -0.30894477   
Loop time of 0.00116527 on 4 procs for 100 steps with 434 atoms

Performance: 37072929.188 tau/day, 85816.966 timesteps/s, 37.245 Matom-step/s
97.7% CPU use with 4 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00035054 | 0.00036203 | 0.0003735  |   0.0 | 31.07
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00027046 | 0.00028069 | 0.00029079 |   0.0 | 24.09
Output  | 0.00030158 | 0.00036015 | 0.00041383 |   0.0 | 30.91
Modify  | 8.33e-06   | 8.5125e-06 | 8.628e-06  |   0.0 |  0.73
Other   |            | 0.0001539  |            |       | 13.21

Nlocal:          108.5 ave         112 max         105 min
Histogram: 2 0 0 0 0 0 0 0 0 2
Nghost:          101.5 ave         105 max          98 min
Histogram: 2 0 0 0 0 0 0 0 0 2
Neighs:            434 ave         450 max         418 min
Histogram: 2 0 0 0 0 0 0 0 0 2

Total # of neighbors = 1736
Ave neighs/atom = 4
Neighbor list builds = 0
Dangerous builds = 0

# シミュレーションをNVEアンサンブルで実行し、2Dの制約を強制して格子を溶解させる
fix		1 all nve
fix		2 all enforce2d
run		1000
Generated 0 of 1 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 4.053 | 4.053 | 4.053 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
       100   2             -0.99804688     0              0.99734483    -0.30894477   
       200   2.0703661     -1.076459       0              0.98913673     1.8474043    
       300   2.0862412     -1.0931396      0              0.98829461     1.9907525    
       400   2.0427867     -1.0489166      0              0.98916319     1.8838318    
       500   2.043406      -1.0515427      0              0.98715496     1.9587641    
       600   2.0603861     -1.0668079      0              0.9888308      2.126833     
       700   2.0438576     -1.0510989      0              0.98804935     2.0349084    
       800   2.0459248     -1.0536261      0              0.98758456     2.1304007    
       900   2.0764923     -1.0840028      0              0.98770493     1.9734716    
      1000   2.0925786     -1.0997401      0              0.98801686     1.9062961    
      1100   2.1121628     -1.1187755      0              0.9885206      1.8173042    
Loop time of 0.0238882 on 4 procs for 1000 steps with 434 atoms

Performance: 18084251.703 tau/day, 41861.694 timesteps/s, 18.168 Matom-step/s
97.3% CPU use with 4 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0053629  | 0.0059973  | 0.0065042  |   0.5 | 25.11
Neigh   | 0.0028302  | 0.0029691  | 0.00315    |   0.2 | 12.43
Comm    | 0.0062677  | 0.0069012  | 0.0075261  |   0.6 | 28.89
Output  | 0.0036301  | 0.0042691  | 0.0048611  |   0.7 | 17.87
Modify  | 0.0010176  | 0.0011631  | 0.0015044  |   0.6 |  4.87
Other   |            | 0.002588   |            |       | 10.84

Nlocal:          108.5 ave         113 max         104 min
Histogram: 1 0 1 0 0 0 0 1 0 1
Nghost:          96.75 ave         100 max          92 min
Histogram: 1 0 0 0 0 1 0 0 1 1
Neighs:         628.25 ave         670 max         581 min
Histogram: 1 0 1 0 0 0 0 0 1 1

Total # of neighbors = 2513
Ave neighs/atom = 5.7903226
Neighbor list builds = 149
Dangerous builds = 0

# インテグレータなしでシミュレーションを実行して、可視化を一時停止する
unfix		1
unfix		2
run		200
WARNING: No fixes with time integration, atoms won't move (src/verlet.cpp:60)
Generated 0 of 1 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 4.053 | 4.053 | 4.053 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
      1100   2.1121628     -1.1187755      0              0.9885206      1.8173042    
      1200   2.1121628     -1.1187755      0              0.9885206      1.8173042    
      1300   2.1121628     -1.1187755      0              0.9885206      1.8173042    
Loop time of 0.00356077 on 4 procs for 200 steps with 434 atoms

Performance: 24264409.609 tau/day, 56167.615 timesteps/s, 24.377 Matom-step/s
96.8% CPU use with 4 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00088704 | 0.00098562 | 0.0012089  |   0.0 | 27.68
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0010081  | 0.001224   | 0.0013355  |   0.4 | 34.38
Output  | 0.00078625 | 0.00091431 | 0.001026   |   0.0 | 25.68
Modify  | 1.6771e-05 | 2.0579e-05 | 3.0751e-05 |   0.0 |  0.58
Other   |            | 0.0004162  |            |       | 11.69

Nlocal:          108.5 ave         113 max         104 min
Histogram: 1 0 1 0 0 0 0 1 0 1
Nghost:             97 ave         100 max          92 min
Histogram: 1 0 0 0 0 0 1 0 1 1
Neighs:         628.25 ave         670 max         581 min
Histogram: 1 0 1 0 0 0 0 0 1 1

Total # of neighbors = 2513
Ave neighs/atom = 5.7903226
Neighbor list builds = 0
Dangerous builds = 0

# 原子の速度を反転させ、シミュレーションを継続する
# ロゴと格子は丸め誤差内で再結合するはずです
variable        vxflip atom -vx
variable        vyflip atom -vy
velocity	all set v_vxflip v_vyflip NULL

fix		1 all nve
fix		2 all enforce2d
run		1000
Generated 0 of 1 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 4.053 | 4.053 | 4.053 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
      1300   2.1121628     -1.1187755      0              0.9885206      1.8173042    
      1400   2.0925786     -1.0997401      0              0.98801686     1.9062961    
      1500   2.0764923     -1.0840028      0              0.98770493     1.9734716    
      1600   2.0459248     -1.0536261      0              0.98758456     2.1304007    
      1700   2.0438576     -1.0510989      0              0.98804935     2.0349084    
      1800   2.0603861     -1.0668079      0              0.9888308      2.126833     
      1900   2.043406      -1.0515427      0              0.98715496     1.9587641    
      2000   2.0427867     -1.0489166      0              0.98916319     1.8838318    
      2100   2.0862412     -1.0931396      0              0.98829461     1.9907525    
      2200   2.0703661     -1.0764589      0              0.98913673     1.8474043    
      2300   2             -0.99804688     0              0.99734483    -0.30894477   
Loop time of 0.0208304 on 4 procs for 1000 steps with 434 atoms

Performance: 20738944.930 tau/day, 48006.817 timesteps/s, 20.835 Matom-step/s
96.8% CPU use with 4 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0053766  | 0.0055802  | 0.0057945  |   0.2 | 26.79
Neigh   | 0.0027775  | 0.0028907  | 0.0030478  |   0.2 | 13.88
Comm    | 0.0040237  | 0.0044035  | 0.00473    |   0.4 | 21.14
Output  | 0.0044426  | 0.0050551  | 0.005628   |   0.6 | 24.27
Modify  | 0.0010017  | 0.0010259  | 0.0010723  |   0.1 |  4.92
Other   |            | 0.001875   |            |       |  9.00

Nlocal:          108.5 ave         109 max         108 min
Histogram: 2 0 0 0 0 0 0 0 0 2
Nghost:          101.5 ave         102 max         101 min
Histogram: 2 0 0 0 0 0 0 0 0 2
Neighs:          503.5 ave         507 max         500 min
Histogram: 1 1 0 0 0 0 0 0 1 1

Total # of neighbors = 2014
Ave neighs/atom = 4.640553
Neighbor list builds = 149
Dangerous builds = 0

# 再びインテグレータなしでシミュレーションを実行して可視化を一時停止する
unfix		1
unfix		2
run		100
WARNING: No fixes with time integration, atoms won't move (src/verlet.cpp:60)
Generated 0 of 1 mixed pair_coeff terms from geometric mixing rule
Per MPI rank memory allocation (min/avg/max) = 4.053 | 4.053 | 4.053 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
      2300   2             -0.99804688     0              0.99734483    -0.30894477   
      2400   2             -0.99804688     0              0.99734483    -0.30894477   
Loop time of 0.00116341 on 4 procs for 100 steps with 434 atoms

Performance: 37132351.045 tau/day, 85954.516 timesteps/s, 37.304 Matom-step/s
97.7% CPU use with 4 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00035929 | 0.00036134 | 0.00036383 |   0.0 | 31.06
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00026353 | 0.00026547 | 0.00026696 |   0.0 | 22.82
Output  | 0.00031937 | 0.00037841 | 0.00043071 |   0.0 | 32.53
Modify  | 8.371e-06  | 8.4882e-06 | 8.589e-06  |   0.0 |  0.73
Other   |            | 0.0001497  |            |       | 12.87

Nlocal:          108.5 ave         109 max         108 min
Histogram: 2 0 0 0 0 0 0 0 0 2
Nghost:          101.5 ave         102 max         101 min
Histogram: 2 0 0 0 0 0 0 0 0 2
Neighs:            434 ave         435 max         433 min
Histogram: 2 0 0 0 0 0 0 0 0 2

Total # of neighbors = 1736
Ave neighs/atom = 4
Neighbor list builds = 0
Dangerous builds = 0
Total wall time: 0:00:00
